import"./modulepreload-polyfill.b7f2da20.js";import{p as e,s as t}from"./vendor.e7484438.js";const o={},n=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/${e}`)in o)return;o[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e())):e()},r=document.querySelector("tbody"),a=document.querySelector("meter"),s=document.querySelector(".meter"),d=document.querySelector("label"),l=document.querySelector("code"),i=document.querySelector("template");let p=0,c=0;const u=(e,t)=>{const o=e.target.closest("svg").nextElementSibling,n=new Date(t.date).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"});o.hidden=!1,o.textContent=`On ${n} on ${t.value.toFixed(6)}% of pages`,o.style.top=`${e.offsetY}px`,o.style.left=`${e.offsetX+20}px`},m=e=>{e.target.closest("svg").nextElementSibling.hidden=!0},h=async(e,o)=>{let n=await fetch("https://chromestatus.com/data/timeline/featurepopularity?bucket_id="+o).then((e=>e.json()));if(n=n.map((e=>({date:e.date,value:100*e.day_percentage}))),0===n.filter((e=>0!==e.value)).length){const t=e.parentNode.parentNode;return e.parentNode.remove(),void(t.textContent="No data")}t.sparkline(e,n,{onmousemove:u,onmouseout:m}),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e.style.display="block"};window.addEventListener("load",(async()=>{"serviceWorker"in navigator&&await navigator.serviceWorker.register("./sw.js");let t=await Promise.all(Object.entries(e).map((e=>new Promise((async t=>{e[1].supported=await e[1].supported,e[1].supported&&c++,void 0!==e[1].supported&&p++,t(e)})))));t=t.sort(((e,t)=>!e[1].supported&&t[1].supported?1:e[1].supported&&!t[1].supported?-1:0)),t=[!0,!1,void 0].map((e=>t.filter((t=>t[1].supported===e)).sort(((e,t)=>(e=e[0].toLowerCase())>(t=t[0].toLowerCase())?1:e<t?-1:0)))).flat();for(const[e,n]of t){const t=document.createElement("tr");r.append(t);const o=document.createElement("td"),a=document.createElement("td"),s=document.createElement("td");t.append(o),t.append(a),t.append(s);const d=document.createElement("a");if(d.textContent=e,d.href=n.documentation,o.append(d),a.classList.add("icon"),a.textContent=n.supported?"âœ… Yes":void 0===n.supported?"ðŸ¤· Unknown":"ðŸš« No",n.blinkFeatureID){const e=i.content.cloneNode(!0),t=e.querySelector("svg");t.style.display="none";const o=e.querySelector("span"),r=document.createElement("a");r.href=`https://chromestatus.com/metrics/feature/timeline/popularity/${n.blinkFeatureID}`,s.append(r),r.append(t),r.append(o),h(t,n.blinkFeatureID)}else s.textContent="No data"}r.parentNode.hidden=!1;const o=`${Math.floor(c/p*100)}%`;a.max=p,a.low=Math.floor(.2*p),a.high=Math.floor(.8*p),a.optimum=Math.floor(.9*p),a.value=c,s.querySelector("span").style.width=o,a.value<a.low?s.classList.add("red"):a.value<=a.low&&a.value<=a.high?s.classList.add("orange"):s.classList.add("green"),d.textContent=o,d.parentNode.hidden=!1,l.textContent=navigator.userAgent,"share"in navigator&&n((()=>import("./share.39775611.js")),[]),/Apple/.test(navigator.vendor)&&n((()=>import("./pwacompat.e2d4ab51.js")),[])}));
